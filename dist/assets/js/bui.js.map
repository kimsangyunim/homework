{"version":3,"sources":["bui.js"],"names":["root","factory","define","amd","exports","module","buiToggle","global","window","defaults","mode","event","active","activeClass","inactive","inactiveClass","disabled","disabledClass","focusin","focusout","clickout","clickoutTarget","target","targetClass","targetActiveClass","targetAttribute","targetObject","close","closeButton","closeButtonClass","closeButtonText","closeButtonArea","reactTarget","reactTargetClass","reactTargetActiveClass","reactParent","reactParentClass","reactParentActiveClass","onloadCallBack","eventBeforeCallBack","eventAfterCallBack","activeBeforeCallBack","activeAfterCallBack","inactiveBeforeCallBack","inactiveAfterCallBack","extend","merged","Array","prototype","forEach","call","arguments","obj","key","hasOwnProperty","settings","toggleThis","classList","add","remove","button","closest","createInactiveButton","inactiveButton","querySelector","document","createElement","setAttribute","className","innerHTML","appendChild","addEventListener","preventDefault","contains","keyCode","focus","focusReturn","Constructor","selector","options","publicAPIs","toggleCount","myToggle","setProperties","toggleTarget","toggleName","id","toggleButton","name","toggle","update","toggleTargets","querySelectorAll","index","toggleActions","init","buiTab","initial","tabItem","tabName","buttonActiveText","buttonAppendTo","tabItemReact","container","eventCallBack","activeCallBack","inactiveCallBack","tabToggle","tabs","item","getSiblings","siblingsItem","removeAttribute","items","left","offsetLeft","clientWidth","move","outerWidth","parentElement","scrollTo","selectItems","list","style","scrollBehavior","itemEntry","createProperties","setup","listEntry","getAttribute","e","top","offsetTop","behavior","scrollTop","offsetHeight","buiExpand","ellipsis","ellipsisLimit","ellipsisField","ellipsisActiveClass","buttonClass","buttonActiveClass","buttonText","actionActive","actionInactive","field","containerHeight","lineHeight","parseInt","getComputedStyle","getPropertyValue","lines","actionSetup","accordion","siblings","siblingItem","siblingItemButton","getElementsByClassName"],"mappings":"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","sourcesContent":["/**\r\n * buiToggle\r\n * \r\n * @ProjectDescription\r\n * @author codenamic@gmail.com\r\n * @version 1.1\r\n * \r\n * Copyright (c) 2018,\r\n *\r\n * Licensed under the MIT license.\r\n * http://opensource.org/licenses/MIT\r\n * \r\n */\r\n(function (root, factory) {\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\tdefine([], function () {\r\n\t\t\treturn factory(root);\r\n\t\t});\r\n\t} else if ( typeof exports === 'object' && module.exports ) {\r\n\t\tmodule.exports = factory(root);\r\n\t} else {\r\n\t\troot.buiToggle = factory(root);\r\n\t}\r\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : this, function (window) {\r\n\r\n\t'use strict';\r\n\r\n\t//\r\n\t// Variables\r\n\t//\r\n\tvar defaults = {\r\n\t\t// general\r\n\t\tmode: 'normal',\r\n\t\tevent: 'click',\r\n\r\n\t\tactive: true,\r\n\t\tactiveClass: 'active',\r\n\r\n\t\tinactive: false,\r\n\t\tinactiveClass: 'inactive',\r\n\r\n\t\tdisabled: false,\r\n\t\tdisabledClass: null,\r\n\r\n\t\tfocusin: false,\r\n\t\tfocusout: false,\r\n\r\n\t\tclickout: false,\r\n\t\tclickoutTarget: null,\r\n\r\n\t\t// target\r\n\t\ttarget: null,\r\n\t\ttargetClass: 'bui-toggle-target',\r\n\t\ttargetActiveClass: 'active',\r\n\t\ttargetAttribute: 'data-toggle-target',\r\n\t\ttargetObject: null,\r\n\r\n\t\t// close\r\n\t\tclose: false,\r\n\t\tcloseButton: 'button',\r\n\t\tcloseButtonClass: 'close',\r\n\t\tcloseButtonText: 'close',\r\n\t\tcloseButtonArea: null,\r\n\r\n\t\t// react target\r\n\t\treactTarget: null,\r\n\t\treactTargetClass: null,\r\n\t\treactTargetActiveClass: 'active',\r\n\r\n\t\t// react Parent\r\n\t\treactParent: null,\r\n\t\treactParentClass: null,\r\n\t\treactParentActiveClass: 'active',\r\n\r\n\t\t/* callback */\r\n\t\tonloadCallBack: function() {return false;},\r\n\t\teventBeforeCallBack: function() {return false;},\r\n\t\teventAfterCallBack: function() {return false;},\r\n\r\n\t\tactiveBeforeCallBack: function() {return false;},\r\n\t\tactiveAfterCallBack: function() {return false;},\r\n\r\n\t\tinactiveBeforeCallBack: function() {return false;},\r\n\t\tinactiveAfterCallBack: function() {return false;}\r\n\t};\r\n\r\n\t//\r\n\t// Methods\r\n\t//\r\n\r\n\t/**\r\n\t * Merge two or more objects together.\r\n\t * @param   {Object} objects\tThe objects to merge together\r\n\t * @returns {Object}\t\t\tMerged values of defaults and options\r\n\t */\r\n\tvar extend = function () {\r\n\t\tvar merged = {};\r\n\t\tArray.prototype.forEach.call(arguments, function (obj) {\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (!obj.hasOwnProperty(key)) return;\r\n\t\t\t\tmerged[key] = obj[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn merged;\r\n\t};\r\n\r\n\t// Actions Active\r\n\tfunction active(settings, toggleThis) {\r\n\t\tsettings.eventBeforeCallBack.call(toggleThis);\r\n\t\tsettings.activeBeforeCallBack.call(toggleThis);\r\n\r\n\t\ttoggleThis.target.classList.add(settings.activeClass);\r\n\t\tif (settings.inactive) toggleThis.target.classList.remove(settings.inactiveClass);\r\n\t\tif (toggleThis.button != null) toggleThis.button.classList.add(settings.activeClass);\r\n\t\tif (settings.reactTarget != null) toggleThis.reactTarget.classList.add(settings.reactTargetActiveClass);\r\n\t\tif (settings.reactParent != null) toggleThis.target.closest(settings.reactParent).classList.add(settings.reactParentActiveClass);\r\n\t\tif (settings.focusin) focusin(toggleThis);\r\n\t\ttoggleThis.active = true;\r\n\r\n\t\tsettings.eventAfterCallBack.call(toggleThis);\r\n\t\tsettings.activeAfterCallBack.call(toggleThis);\r\n\t};\r\n\t\r\n\t// Actions Inactive\r\n\tfunction inactive(settings, toggleThis) {\r\n\t\tsettings.eventBeforeCallBack.call(toggleThis);\r\n\t\tsettings.inactiveBeforeCallBack.call(toggleThis);\r\n\t\t\r\n\t\ttoggleThis.target.classList.remove(settings.activeClass);\r\n\t\tif (settings.inactive) toggleThis.target.classList.add(settings.inactiveClass);\r\n\t\tif (toggleThis.button != null) toggleThis.button.classList.remove(settings.activeClass);\r\n\t\tif (settings.reactTarget != null) toggleThis.reactTarget.classList.remove(settings.reactTargetActiveClass);\r\n\t\tif (settings.reactParent != null) toggleThis.target.closest(settings.reactParent).classList.remove(settings.reactParentActiveClass);\r\n\t\ttoggleThis.active = false;\r\n\r\n\t\tsettings.eventAfterCallBack.call(toggleThis);\r\n\t\tsettings.inactiveAfterCallBack.call(toggleThis);\r\n\t};\r\n\r\n\t// Create Inactive Button\r\n\tfunction createInactiveButton(settings, toggleThis) {\r\n\t\tvar inactiveButton = toggleThis.target.querySelector('.' + settings.closeButtonClass);\r\n\t\tif (inactiveButton === null) {\r\n\t\t\tinactiveButton = document.createElement('button');\r\n\t\t\tinactiveButton.setAttribute('type', 'button');\r\n\t\t\tinactiveButton.className = settings.closeButtonClass;\r\n\t\t\tinactiveButton.innerHTML = settings.closeButtonText;\r\n\t\t\t\r\n\t\t\t// Append Inactive Button\r\n\t\t\tsettings.closeButtonArea === null ? toggleThis.target.appendChild(inactiveButton) : toggleThis.target.querySelector(settings.closeButtonArea).appendChild(inactiveButton);\r\n\t\t}\r\n\r\n\t\t// Inactive event\r\n\t\tinactiveButton.addEventListener('click', function(event) {\r\n\t\t\tevent.preventDefault();\r\n\t\t\tinactive(settings, toggleThis);\r\n\t\t}, false);\r\n\t};\r\n\r\n\t// Inactive by Clickout\r\n\tfunction clickout(settings, toggleThis) {\r\n\t\tdocument.addEventListener('mouseup', function(event) {\r\n\t\t\tif (toggleThis.active) {\r\n\t\t\t\tif (!toggleThis.clickoutTarget.contains(event.target)) {\r\n\t\t\t\t\tinactive(settings, toggleThis);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// Inactive by focusout\r\n\tfunction focusout(settings, toggleThis) {\r\n\t\tdocument.addEventListener('keyup', function(event) {\r\n\t\t\tif (toggleThis.active && event.keyCode === 9) {\r\n\t\t\t\tif (!toggleThis.target.contains(event.target)) {\r\n\t\t\t\t\tinactive(settings, toggleThis);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t// Move focus to Active target\r\n\tfunction focusin(toggleThis) {\r\n\t\ttoggleThis.target.setAttribute('tabindex', '0');\r\n\t\ttoggleThis.target.focus();\r\n\t};\r\n\r\n\t// Move focus to Active target\r\n\tfunction focusReturn(toggleThis) {\r\n\t\ttoggleThis.target.setAttribute('tabindex', '0');\r\n\t\ttoggleThis.target.focus();\r\n\t};\r\n\r\n\t/**\r\n\t * Create the Constructor object\r\n\t */\r\n\tvar Constructor = function(selector, options) {\r\n\r\n\t\t// Merge user options with defaults\r\n\t\tsettings = extend(defaults, options || {});\r\n\r\n\t\tvar publicAPIs = {};\r\n\t\tvar settings;\t\t\r\n\t\tvar toggleCount = 0;\r\n\r\n\t\tpublicAPIs.myToggle = {};\r\n\r\n\t\t/**\r\n\t\t * Create an object to apply to BuiToggle\r\n\t\t */\r\n\t\tvar setProperties = function(toggleTarget) {\r\n\t\t\tvar toggleName = toggleTarget.id;\r\n\t\t\tvar toggleTarget = toggleTarget;\r\n\t\t\tvar toggleButton = document.querySelector('[data-bui-toggle-button=' + toggleTarget.id + ']');\r\n\t\t\tvar reactTarget = document.querySelector(settings.reactTarget);\r\n\r\n\t\t\tpublicAPIs.myToggle[toggleTarget.id] = {\r\n\t\t\t\tname: toggleName,\r\n\t\t\t\tactive: false,\r\n\t\t\t\ttarget: toggleTarget,\r\n\t\t\t\tbutton: toggleButton,\r\n\t\t\t\treactTarget: reactTarget,\r\n\t\t\t\tclickoutTarget: settings.clickoutTarget != null ? toggleTarget.querySelector(settings.clickoutTarget) : toggleTarget\r\n\t\t\t};\r\n\t\t};\r\n\r\n\t\tpublicAPIs.active = function(toggleName) {\r\n\t\t\tactive(settings, publicAPIs.myToggle[toggleName]);\r\n\t\t\t// console.log(this);\r\n\t\t\t// console.log(event.target);\r\n\t\t\t// if(event.target) {\r\n\t\t\t// }\r\n\t\t};\r\n\r\n\t\tpublicAPIs.inactive = function(toggleName) {\r\n\t\t\tinactive(settings, publicAPIs.myToggle[toggleName]);\r\n\t\t};\r\n\t\r\n\t\tpublicAPIs.toggle = function(toggleName) {\r\n\t\t\t(!publicAPIs.myToggle[toggleName].target.classList.contains(settings.activeClass)) ? publicAPIs.active(toggleName) : publicAPIs.inactive(toggleName);\r\n\t\t};\r\n\r\n\t\tpublicAPIs.update = function() {\r\n\t\t\tvar toggleTargets = document.querySelectorAll(selector);\r\n\t\t\tif (!toggleTargets) return;\r\n\t\t\t\r\n\t\t\tArray.prototype.forEach.call(toggleTargets, function(toggleTarget, index) {\r\n\t\t\t\tif (index >= toggleCount) {\r\n\t\t\t\t\tsetProperties(toggleTarget);\r\n\t\t\t\t\ttoggleActions(publicAPIs.myToggle[toggleTarget.id]);\r\n\t\t\t\t\t// check toggle item length\r\n\t\t\t\t\t// console.log(index + ', ' + toggleCount);\r\n\t\t\t\t\ttoggleCount = toggleCount + 1;\r\n\t\t\t\t}\r\n\t\t\t\tsettings.onloadCallBack.call(publicAPIs.myToggle[toggleTarget.id]);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tvar toggleActions = function(toggleThis) {\r\n\t\t\tif(toggleThis.button != null) {\r\n\t\t\t\tif (settings.event === 'click') {\r\n\t\t\t\t\ttoggleThis.button.addEventListener('click', function(event) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\tpublicAPIs.toggle(toggleThis.name);\r\n\t\t\t\t\t}, false);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (settings.event === 'hover') {\r\n\t\t\t\t\ttoggleThis.button.addEventListener('mouseenter', function() {\r\n\t\t\t\t\t\tpublicAPIs.active(toggleThis.name);\r\n\t\t\t\t\t}, false);\r\n\r\n\t\t\t\t\ttoggleThis.button.addEventListener('mouseleave', function() {\r\n\t\t\t\t\t\tpublicAPIs.inactive(toggleThis.name);\r\n\t\t\t\t\t}, false);\r\n\r\n\t\t\t\t\ttoggleThis.target.addEventListener('mouseenter', function() {\r\n\t\t\t\t\t\tpublicAPIs.active(toggleThis.name);\r\n\t\t\t\t\t}, false);\r\n\r\n\t\t\t\t\ttoggleThis.target.addEventListener('mouseleave', function() {\r\n\t\t\t\t\t\tpublicAPIs.inactive(toggleThis.name);\r\n\t\t\t\t\t}, false);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (settings.close) createInactiveButton(settings, toggleThis);\r\n\t\t\tif (settings.clickout) clickout(settings, toggleThis);\r\n\t\t\tif (settings.focusout) focusout(settings, toggleThis);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Initialize the instance\r\n\t\t */\r\n\t\tvar init = function () {\r\n\t\t\t// Setup the DOM\r\n\t\t\tpublicAPIs.update();\r\n\t\t};\r\n\r\n\t\t// Initialize and return the Public APIs\r\n\t\tinit();\r\n\t\treturn publicAPIs;\r\n\t};\r\n\r\n\t// Return the Constructor\r\n\treturn Constructor;\r\n});\r\n\r\n/**\r\n * buiTab\r\n */\r\n (function (root, factory) {\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\tdefine([], function () {\r\n\t\t\treturn factory(root);\r\n\t\t});\r\n\t} else if ( typeof exports === 'object' ) {\r\n\t\tmodule.exports = factory(root);\r\n\t} else {\r\n\t\troot.buiTab = factory(root);\r\n\t}\r\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : this, function (window) {\r\n\r\n\t'use strict';\r\n\r\n\t// Variables\r\n\tvar defaults = {\r\n\t\t// general\r\n\t\tmode: 'normal',\r\n\t\tactive: false,\r\n\t\tactiveClass: 'current',\r\n\t\tinitial: 0,\r\n\r\n\t\t// tab\r\n\t\ttabItem: '.tab-item',\r\n\t\ttabName: '.tab-name',\r\n\t\tbuttonActiveText: null,\r\n\t\tbuttonAppendTo: null,\r\n\t\ttabItemReact: false,\r\n\r\n\t\t// target\r\n\t\ttarget: null,\r\n\t\ttargetClass: 'bui-tab-target',\r\n\t\ttargetActiveClass: 'active',\r\n\t\tcontainer: '.tab-content',\r\n\r\n\t\t/* callback */\r\n\t\tonloadCallBack: function() {return false;},\r\n\t\teventCallBack: function() {return false;},\r\n\t\tactiveCallBack: function() {return false;},\r\n\t\tinactiveCallBack: function() {return false;}\r\n\t};\r\n\r\n\t/**\r\n\t * Merge two or more objects together.\r\n\t * @param\t{Object}\tobjects\t\tThe objects to merge together\r\n\t * @returns\t{Object}\t\t\t\tMerged values of defaults and options\r\n\t */\r\n\tvar extend = function () {\r\n\t\tvar merged = {};\r\n\t\tArray.prototype.forEach.call(arguments, function (obj) {\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (!obj.hasOwnProperty(key)) return;\r\n\t\t\t\tmerged[key] = obj[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn merged;\r\n\r\n\t};\r\n\r\n\tvar tabToggle = function(settings, tabs) {\r\n\t\ttabs.item.classList.add(settings.activeClass);\r\n\t\ttabs.item.setAttribute('title', '현재 선택된 항목');\r\n\r\n\t\tArray.prototype.forEach.call(getSiblings(tabs.item), function(siblingsItem) {\r\n\t\t\tsiblingsItem.classList.remove(settings.activeClass);\r\n\t\t\tsiblingsItem.removeAttribute('title');\r\n\t\t});\r\n\r\n\t\tif(tabs.target != null) {\r\n\t\t\ttabs.target.classList.add(settings.targetActiveClass);\r\n\t\t\tArray.prototype.forEach.call(getSiblings(tabs.target), function(siblingsItem) {\r\n\t\t\t\tsiblingsItem.classList.remove(settings.targetActiveClass);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (settings.tabItemReact != false) {\r\n\t\t\tvar items = tabs.item;\r\n\t\t\tvar left = items.offsetLeft + items.clientWidth + 16;\r\n\t\t\tvar move = left - window.outerWidth;\r\n\r\n\t\t\tif (window.outerWidth < left) {\r\n\t\t\t\titems.parentElement.parentElement.scrollTo(move, 0);\r\n\t\t\t} else{\r\n\t\t\t\titems.parentElement.parentElement.scrollTo(0, 0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar tabItemReact = function(settings, selectItems) {\r\n\t\tif (settings.tabItemReact != false) {\r\n\t\t\tArray.prototype.forEach.call(selectItems, function(list, index) {\r\n\t\t\t\tvar items = list.querySelector('.' + settings.activeClass);\r\n\t\t\t\tvar left = items.offsetLeft + items.clientWidth + 16;\r\n\t\t\t\tvar move = left - window.outerWidth;\r\n\t\t\t\titems.parentElement.parentElement.style.scrollBehavior = 'smooth';\r\n\r\n\t\t\t\tif (window.outerWidth < left) {\r\n\t\t\t\t\titems.parentElement.parentElement.scrollTo(move, 0);\r\n\t\t\t\t} else{\r\n\t\t\t\t\titems.parentElement.parentElement.scrollTo(0, 0);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create the Constructor object\r\n\t */\r\n\tvar Constructor = function (selector, options) {\r\n\r\n\t\t// Merge user options with defaults\r\n\t\tsettings = extend(defaults, options || {});\r\n\r\n\t\t// Variables\r\n\t\tvar publicAPIs = {};\r\n\t\tvar settings;\r\n\r\n\t\tpublicAPIs.itemEntry = [];\r\n\r\n\t\t publicAPIs.createProperties = function(item, name, target) {\r\n\t\t\tthis.item = item;\r\n\t\t\tthis.name = name;\r\n\t\t\tthis.target = target;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Setup the DOM with the proper attributes\r\n\t\t */\r\n\t\tpublicAPIs.setup = function() {\r\n\t\t\t// Variables\r\n\t\t\tvar selectItems = document.querySelectorAll(selector);\r\n\t\t\tif (!selectItems) return;\r\n\t\t\r\n\t\t\tArray.prototype.forEach.call(selectItems, function(list, index) {\r\n\t\t\t\tvar listEntry = [];\r\n\t\t\t\tvar initial = settings.initial;\r\n\t\t\t\tvar items = list.querySelectorAll(settings.tabItem);\r\n\r\n\t\t\t\tArray.prototype.forEach.call(items, function(item, index) {\r\n\t\t\t\t\tvar name = item.querySelector(settings.tabName);\r\n\t\t\t\t\tvar target = document.querySelector(name.getAttribute('href'));\r\n\t\t\t\t\tlistEntry[index] = new publicAPIs.createProperties(item, name, target);\r\n\t\t\t\t\titem.classList.contains(settings.activeClass) ? initial = index : null;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// actions\r\n\t\t\t\tArray.prototype.forEach.call(listEntry, function(tabs, index) {\r\n\t\t\t\t\ttabs.target != null ? tabs.target.classList.add(settings.targetClass) : null;\r\n\t\t\t\t\tinitial === index ? tabToggle(settings, tabs) : null;\r\n\t\t\t\t\ttabs.name.addEventListener('click', function(e) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tsettings.eventCallBack.call();\r\n\t\t\t\t\t\tsettings.mode != 'null' ? e.preventDefault() : null;\r\n\r\n\t\t\t\t\t\t// after click\r\n\t\t\t\t\t\tif(settings.mode === 'scroll') {\r\n\t\t\t\t\t\t\ttabs.target.closest(settings.container).scrollTo({\r\n\t\t\t\t\t\t\t\ttop: tabs.target.offsetTop,\r\n\t\t\t\t\t\t\t\tbehavior: 'smooth'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttabToggle(settings, tabs);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\t// after scroll\r\n\t\t\t\t\tif(settings.mode === 'scroll') {\r\n\r\n\t\t\t\t\t\t// closest 으로 변경\r\n\t\t\t\t\t\ttabs.target.closest(settings.container).addEventListener('scroll', function(event) {\r\n\t\t\t\t\t\t\tif(this.scrollTop + 48 >= tabs.target.offsetTop && this.scrollTop + 48 < tabs.target.offsetTop + tabs.target.offsetHeight) {\r\n\t\t\t\t\t\t\t\ttabToggle(settings, tabs);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\ttabItemReact(settings, selectItems);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Initialize the instance\r\n\t\t */\r\n\t\tvar init = function () {\r\n\t\t\t// Setup the DOM\r\n\t\t\tpublicAPIs.setup();\r\n\t\t};\r\n\r\n\t\t// Initialize and return the Public APIs\r\n\t\tinit();\r\n\t\treturn publicAPIs;\r\n\t};\r\n\r\n\t// Return the Constructor\r\n\treturn Constructor;\r\n});\r\n\r\n\r\n\r\n/**\r\n * buiFold\r\n */\r\n (function (root, factory) {\r\n\tif ( typeof define === 'function' && define.amd ) {\r\n\t\tdefine([], function () {\r\n\t\t\treturn factory(root);\r\n\t\t});\r\n\t} else if ( typeof exports === 'object' ) {\r\n\t\tmodule.exports = factory(root);\r\n\t} else {\r\n\t\troot.buiExpand = factory(root);\r\n\t}\r\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : this, function (window) {\r\n\r\n\t'use strict';\r\n\r\n\t// Variables\r\n\tvar defaults = {\r\n\t\t// general\r\n\t\tactive: false,\r\n\t\tactiveClass: 'active',\r\n\t\tinitial: 0,\r\n\r\n\t\tellipsis: false,\r\n\t\tellipsisLimit: 2,\r\n\t\tellipsisField: '',\r\n\t\tellipsisActiveClass: 'limit',\r\n\r\n\t\t// target\r\n\t\ttarget: null,\r\n\t\ttargetClass: 'bui-fold-target',\r\n\t\ttargetActiveClass: 'active',\r\n\r\n\t\t// close\r\n\t\tbutton: 'button',\r\n\t\tbuttonClass: 'expand',\r\n\t\tbuttonActiveClass: 'active',\r\n\t\tbuttonText: '펼치기',\r\n\t\tbuttonActiveText: null,\r\n\t\tbuttonAppendTo: null,\r\n\r\n\t\t// accordion\r\n\t\t// accordion: true,\r\n\r\n\t\t/* callback */\r\n\t\tonloadCallBack: function() {return false;},\r\n\t\teventCallBack: function() {return false;},\r\n\t\tactiveCallBack: function() {return false;},\r\n\t\tinactiveCallBack: function() {return false;}\r\n\t};\r\n\r\n\t/**\r\n\t * Merge two or more objects together.\r\n\t * @param\t{Object}\tobjects\t\tThe objects to merge together\r\n\t * @returns\t{Object}\t\t\t\tMerged values of defaults and options\r\n\t */\r\n\tvar extend = function () {\r\n\t\tvar merged = {};\r\n\t\tArray.prototype.forEach.call(arguments, function (obj) {\r\n\t\t\tfor (var key in obj) {\r\n\t\t\t\tif (!obj.hasOwnProperty(key)) return;\r\n\t\t\t\tmerged[key] = obj[key];\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn merged;\r\n\t};\r\n\r\n\tvar actionActive = function(settings, toggleTarget, toggleButton) {\r\n\t\ttoggleTarget.classList.add(settings.activeClass);\r\n\t\ttoggleButton.classList.add(settings.buttonActiveClass);\r\n\t\tsettings.buttonActiveText != null ?  toggleButton.innerHTML = settings.buttonActiveText : null;\r\n\t};\r\n\r\n\tvar actionInactive = function(settings, toggleTarget, toggleButton) {\r\n\t\ttoggleTarget.classList.remove(settings.activeClass);\r\n\t\ttoggleButton.classList.remove(settings.buttonActiveClass);\r\n\t\tsettings.buttonActiveText != null ? toggleButton.innerHTML = settings.buttonText : null;\r\n\t};\r\n\r\n\tvar ellipsis = function(settings, toggleTarget) {\r\n\t\tvar field = toggleTarget.querySelector(settings.ellipsisField); \r\n\t\tvar containerHeight = field.offsetHeight \r\n\t\tvar lineHeight = parseInt(window.getComputedStyle(field).getPropertyValue('line-height')); \r\n\t\tvar lines = containerHeight / lineHeight;\r\n\r\n\t\tif (lines > settings.ellipsisLimit) {\r\n\t\t\ttoggleTarget.classList.add(settings.ellipsisActiveClass);\r\n\t\t} else {\r\n\t\t\ttoggleTarget.classList.remove(settings.ellipsisActiveClass);\r\n\t\t}\r\n\t};\r\n\r\n\tvar actionSetup = function(settings, toggleTarget) {\r\n\r\n\t\ttoggleTarget.classList.add(settings.targetClass);\r\n\t\tvar toggleButton = document.createElement('button');\r\n\t\ttoggleButton.setAttribute('type', 'button');\r\n\t\ttoggleButton.className = settings.buttonClass;\r\n\t\ttoggleButton.innerHTML = settings.buttonText;\r\n\r\n\t\tif(settings.buttonAppendTo != null) {\r\n\t\t\tif(toggleTarget.querySelector(settings.buttonAppendTo)) {\r\n\t\t\t\ttoggleTarget.querySelector(settings.buttonAppendTo).appendChild(toggleButton);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\ttoggleTarget.appendChild(toggleButton);\r\n\t\t};\r\n\r\n\t\ttoggleButton.addEventListener('click', function(e) {\r\n\t\t\tif (settings.accordion === true) {\r\n\t\t\t\tif(toggleTarget.classList.contains(settings.activeClass)) {\r\n\t\t\t\t\tactionInactive(settings, toggleTarget, toggleButton);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tactionActive(settings, toggleTarget, toggleButton);\r\n\t\t\t\t\tvar siblings = getSiblings(toggleTarget);\r\n\t\t\t\t\tArray.prototype.forEach.call(siblings, function(siblingItem) {\r\n\t\t\t\t\t\tvar siblingItemButton = siblingItem.getElementsByClassName(settings.buttonClass)[0];\r\n\t\t\t\t\t\tactionInactive(settings, siblingItem, siblingItemButton);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttoggleTarget.classList.contains(settings.activeClass) ? actionInactive(settings, toggleTarget, toggleButton) : actionActive(settings, toggleTarget, toggleButton);\r\n\t\t\t}\r\n\t\t\tsettings.eventCallBack.call(toggleTarget, toggleButton);\r\n\t\t});\r\n\r\n\t\tif(toggleTarget.classList.contains(settings.activeClass)) {\r\n\t\t\tactionActive(settings, toggleTarget, toggleButton);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Create the Constructor object\r\n\t */\r\n\tvar Constructor = function (selector, options) {\r\n\r\n\t\t// Merge user options with defaults\r\n\t\tsettings = extend(defaults, options || {});\r\n\r\n\t\t// Variables\r\n\t\tvar publicAPIs = {};\r\n\t\tvar settings;\r\n\r\n\t\t/**\r\n\t\t * Setup the DOM with the proper attributes\r\n\t\t */\r\n\t\tpublicAPIs.setup = function() {\r\n\r\n\t\t\t// Variables\r\n\t\t\tvar selectItems = document.querySelectorAll(selector);\r\n\t\t\tif (!selectItems) return;\r\n\r\n\t\t\tArray.prototype.forEach.call(selectItems, function(toggleTarget) {\r\n\r\n\t\t\t\t// Setup Toggle Button\r\n\t\t\t\tactionSetup(settings, toggleTarget);\r\n\r\n\t\t\t\tif(settings.ellipsis === true) {\r\n\t\t\t\t\tellipsis(settings, toggleTarget);\r\n\t\t\t\t\twindow.addEventListener('resize', function() {\r\n\t\t\t\t\t\tellipsis(settings, toggleTarget);\r\n\t\t\t\t\t}, false);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t};\r\n\t\t/**\r\n\t\t * Initialize the instance\r\n\t\t */\r\n\t\tvar init = function () {\r\n\t\t\t// Setup the DOM\r\n\t\t\tpublicAPIs.setup();\r\n\t\t};\r\n\r\n\t\t// Initialize and return the Public APIs\r\n\t\tinit();\r\n\t\treturn publicAPIs;\r\n\t};\r\n\t\r\n\t// Return the Constructor\r\n\treturn Constructor;\r\n});"],"file":"bui.js"}